## 2026-01-12 - Canvas Context Reuse in Video Analysis
**Learning:** In high-frequency video analysis loops (e.g., 10 FPS), creating a new `<canvas>` element and getting its context via `getContext('2d')` for every frame is a significant performance bottleneck. It causes unnecessary DOM element creation, garbage collection pressure, and context initialization overhead.
**Action:** Always create a persistent `useRef<CanvasRenderingContext2D>` for the offscreen canvas used for frame extraction. Initialize it once (lazy initialization is fine) and reuse it. Ensure the context is created with `{ willReadFrequently: true }` if the canvas is read back (e.g., via `toBlob` or `getImageData`), which is typical for inference pipelines. This simple change reduces GC and CPU usage significantly during live tracking.
